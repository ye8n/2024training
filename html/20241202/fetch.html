<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>fetch</title>
  <style>
    .bg {
      background-color: orange;
      border-top: 3px solid #000;
    }
    ul { 
      margin: 50px;
    }
  </style>
</head>

<body>
  <h1>Fetch API</h1>
  <p>네트워크 통신을 포함한 리소스 취득을 JavaScript에서 접근하고 조작할 수 있도록 인터페이스 제공</p>
  <ul>
    <li>fetch() : 리소스를 취득하기 위한 메서드</li>
    <li>Headers : 요청/응답 헤더</li>
    <li>Request : 리소스 요청</li>
    <li>Response : 요청에 대한 응답</li>
  </ul>

  <div class="result"></div>

<!--   <script>

    const result = document.querySelector('.result');

    // JSON 파일 요청
    fetch('https://jsonplaceholder.typicode.com/photos')

    // JSON 파일을 JS객체로 변환, function() {}, () => {} 형식
    //response= 매개변수.
    .then(response => response.json())

    // 출력
    // .then(json => console.log(json));
    .then(json=>{
      let items= ''; // 문자열 선언, 빈 문자열로 설정

      items= `<h2 class= 'bg'>&{json[0]</h2>}`
    });

    document.querySelector('.result').innerHTML=items;
  </script> -->

<script>
  const result = document.querySelector('.result');

  // JSON 파일 요청
  fetch('https://jsonplaceholder.typicode.com/photos')
  // JSON 파일을 JS 배열로 변환 function(res) {response.json()}, (res) => { response.json() }
  .then(response => response.json())
  // 출력
  // .then(json => console.log(json));
  .then(json => {
    // result.innerHTML += `<h2 class='bg'>${json[0].title}</h2>`;

    let items = '';
    json.forEach((elem, idx) => {
      if(idx < 10) {
        console.log(elem);
        items += `
          <h2 class='bg'>${elem.title}</h2>
          <ul>
            <li>id: ${elem.id}</li>
            <li><img src=${elem.thumbnailUrl} alt=${elem.title}</li>
          </ul>
        `;
      }
    });
    result.innerHTML = items;
  });
</script>
</body>
</html>