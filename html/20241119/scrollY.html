<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>scrollY</title>
  <link rel="stylesheet" href="../asset/styles/reset.min.css">
  <style>
    main {
      height: 300vh;
      background-color: #ddd;
      padding-top: 200px;
    }

    main h2 {
      font-weight: bold;
      font-size: 3rem;
      text-align: center;
      background-color: salmon;
      color: #fff;
      padding: 10px;
    }

    header {
      position: fixed;
      background-color: #80C4E9;
      width: 100%;
      height: 100px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: 0.4s;
      text-align: center;
    }

    header h1 {
      background-color: #4335A7;
      color: #fff;
      font-weight: bold;
      font-size: 1.4rem;
      padding: 10px;
      margin: 20px
    }

    header .global-menu {
      display: flex;
      text-transform: capitalize;
      font-weight: bold;
      font-size: 1.2rem;
    }

    header .global-menu a {
      display: block;
      margin: 0 20px;
    }
    header.on {
      border-bottom: 1px solid #4335A7;
      height: 60px;
      background-color: transparent;
      backdrop-filter: blur(5px);
    }
    header.on h1 {
      margin: 10px;
      font-size: 1.2rem;
    }
    header.on .global-menu {
      font-size: 1rem;
      font-weight: normal;
    }
  </style>
  <script src="../asset/script/jquery-3.7.1.min.js"></script>
</head>

<body>
  <header>
    <h1>로고</h1>
    <ul class="global-menu">
      <li><a href="#">menu1</a></li>
      <li><a href="#">menu2</a></li>
      <li><a href="#">menu3</a></li>
      <li><a href="#">menu4</a></li>
    </ul>
  </header>
  <main>
    <h2>scrollY</h2>
  </main>
  <script>
    /*
      window.pageYOffset: y축 방향으로 스크롤 한 거리. 오래된 버전과 호환.  읽기 전용 속성
      window.scrollY: y축 방향으로 스크롤 한 거리 (모던 브라우저 사용 권장)
      pageXOffset: x축 방향으로 스크롤 한 거리
      scrollX: x축 방향으로 스크롤 한 거리

       box1.scrollTop; 요소 기준 스크롤 한 거리 반환. 직접 값을 주어 이동 가능
    scrollY; 뷰포트 기준 읽기 전용 속성이기 때문에 직접 값을 적용시키지 못함
    */

    // if(pageYOffset || scrollY) : 구버전까지 대응할 경우

    const elem = document.documentElement;
    $(window).on('scroll', function () {
      console.log('scrollTop', elem.scrollTop)
      console.log('pageYOffset', pageYOffset)
      console.log('scrollY', scrollY);

      const scrollTopHt = $(this).scrollTop();
      const h2ScrollTop = $('h2').offset().top - $('header').height();

      console.log('h2ScrollTop', h2ScrollTop);
      console.log('scrollTopHt', scrollTopHt);

      // if(scrollTopHt >= h2ScrollTop) {
      //   $('header').addClass('on');
      // } else {
      //   $('header').removeClass('on');
      // }
    });
  </script>
</body>

</html>